<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gamma Cursos</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- NAVBAR -->
  <header class="navbar">
    <img src="assets/logo.png" alt="Logo Gamma" class="logo">
    <nav>
      <ul>
        <li><a href="index.html">游 Inicio</a></li>
        <li><button id="btn-logout" class="logout">Salir</button></li>
      </ul>
    </nav>
  </header>

  <!-- HERO -->
  <section class="hero">
    <div class="hero-text">
      <h1>Gamma Cursos</h1>
      <p>Formaci칩n pr치ctica en automatizaci칩n y productividad</p>
      <p id="bienvenida"></p>
    </div>
  </section>

  <!-- CURSOS HABILITADOS -->
  <section class="cursos">
    <h2>Mis cursos habilitados</h2>
    <div id="cursos-habilitados" class="cursos-grid"></div>
  </section>

  <!-- FOOTER -->
  <footer>
    <p>춸 2025 Gamma Automatizaciones - Todos los derechos reservados</p>
  </footer>

  <!-- SCRIPT -->
  <script>
    // =============================
    // Manejo de sesi칩n
    // =============================
    const usuario = JSON.parse(localStorage.getItem("usuario"));
    if (!usuario) {
      window.location.href = "auth/login.html";
    }

    document.getElementById("bienvenida").innerText = `Bienvenido/a, ${usuario.nombre}`;

    document.getElementById("btn-logout")?.addEventListener("click", () => {
      localStorage.removeItem("usuario");
      window.location.href = "auth/login.html";
    });

    // =============================
    // Mostrar cursos habilitados
    // =============================
    const container = document.getElementById("cursos-habilitados");

    if (usuario?.curso?.trim().toLowerCase() === "excel") {
      container.innerHTML = `
        <div class="curso-card">
          <h3>Curso de Excel</h3>
          <p>Acced칠 al curso intensivo de Excel con 12 m칩dulos pr치cticos.</p>
          <a href="cursos/excel/excel.html" class="btn">游녤 Ir al curso</a>
        </div>
      `;
    } else {
      container.innerHTML = `
        <p>丘멆잺 A칰n no ten칠s cursos habilitados. Contact치 con el administrador.</p>
      `;
    }
  </script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      refreshUsuario().then(() => {
        console.log("Usuario actualizado con datos de BD");
        // ac치 ya se podr칤a renderizar m칩dulos si hiciera falta
      });
    });
  </script>
</body>
</html>
